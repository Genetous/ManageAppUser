"use strict";(self.webpackChunkgenetous_manage_apps=self.webpackChunkgenetous_manage_apps||[]).push([[613],{4889:(e,t,n)=>{n.d(t,{QE:()=>h,Rd:()=>g,WX:()=>m,cO:()=>o,fq:()=>c,kS:()=>p});const s="http://localhost/authservice/",a="http://localhost/ruleservice/",o={applicationId:"c0e2b70d-ba03-450b-be3d-81dfaafcfae7",organizationId:"63d2ef2b85f6b0510e2e93d5"},i="1b7mo22u0pqr9t76dhhdezgct2vrhofoe6foexux4m27gta2",r={method:"POST",headers:{"Content-Type":"application/json",Authorization:""},body:""},c={GetConfigs:a+"/get/configs",AddConfigs:a+"/add/configuration",GetRules:a+"/get/rules",GetEncryption:a+"/get/encryption",AddEncryption:a+"/add/encryption",AddUpdateRules:a+"/add/methods",DeleteRule:a+"/delete/method",GetAppSecret:a+"/get/appSecret",LoginUser:a+"/login",GetApplications:a+"/applications",VerifyToken:s+"/verify",KillToken:s+"/logout",Auth:s+"/auth",Client:s+"/client"};async function l(e){localStorage.setItem("token",e)}async function d(){var e=Date.now();localStorage.setItem("timeout",e)}var m=function(){return new Promise((async function(e,t){try{var n=new Headers,s="";if(null==localStorage.getItem("token")||""==localStorage.getItem("token"))return void t(401);s="Bearer ".concat(localStorage.getItem("token")),n.append("Authorization",s),n.append("Content-Type","application/json");e((await fetch(c.VerifyToken,{method:"GET",headers:n})).status)}catch(a){t(a)}}))},p=function(){return new Promise((async function(e,t){try{var n=new Headers,s="";if(null==localStorage.getItem("token")||""==localStorage.getItem("token"))return void t(401);s="Bearer ".concat(localStorage.getItem("token"));var a={status:-1,message:""};n.append("Authorization",s),n.append("Content-Type","application/json");const r=await fetch(c.KillToken,{method:"POST",headers:n});var o=null;a.status=r.status;try{o=await r.json(),200!=r.status?(500==r.status?a.message="Unexpected Error Occured!":a.message=o.message,t(a)):e(o)}catch(i){a.message=i.message,t(a)}}catch(i){t(i)}}))},h=function(e,t){return new Promise((async function(n,s){try{r.body=JSON.stringify(o);const f=await fetch(c.Client,r);var a=await f.json();if(200!=f.status){var m={success:!1,message:a.message};return void s(m)}a.clientSecret=i,r.body=JSON.stringify(a);const v=await fetch(c.Auth,r),y=await v.json();if(200!=v.status){m={success:!1,message:y.message};return void s(m)}if(0===t){var p=new Headers,g="Bearer "+y.token;p.append("Authorization",g),p.append("Content-Type","application/json");const t=await fetch(c.LoginUser,{method:"POST",headers:p,body:JSON.stringify(e)}),a=await t.json();if(200!=t.status){m={success:!1,message:a.message};s(m)}if(!(a.results.length>0)){m={success:!1,message:a.message};return void s(m)}var u=a.results[0].data[0];if(null==u)return void s(m={success:!1,message:"No user found!"});!async function(e){localStorage.setItem("orgId",e)}(u.collectionId),o.clientId=u.related.user[0]._id,await h(o,1).then((function(e){n(e)}),(e=>{s({success:!1,message:e})}))}else{l(y.token),d(),localStorage.setItem("clientId",o.clientId),localStorage.setItem("organizationId",o.organizationId),localStorage.setItem("applicationId",o.applicationId),n(m={success:!0,message:""})}}catch(f){console.log(f),s(m={success:!1,message:f})}}))},g=function(e,t){return new Promise((async function(n,s){try{var a=new Headers,o="";if(null==localStorage.getItem("token")||""==localStorage.getItem("token"))return void s(401);o="Bearer ".concat(localStorage.getItem("token")),a.append("Authorization",o),a.append("Content-Type","application/json");var i={status:-1,message:""};const l=await fetch(t,{method:"POST",headers:a,body:JSON.stringify(e)});var r=null;i.status=l.status;try{r=await l.json(),200!=l.status?(500==l.status?i.message="Unexpected Error Occured!":i.message=r.message,s(i)):n(r)}catch(c){i.message=c.message,s(i)}}catch(c){s(c)}}))}},9486:(e,t,n)=>{n.r(t),n.d(t,{DefaultLayout:()=>H,default:()=>E});var s=n(2791);const a=s.lazy((()=>Promise.all([n.e(933),n.e(981)]).then(n.bind(n,5242)))),o=s.lazy((()=>Promise.all([n.e(933),n.e(182)]).then(n.bind(n,745)))),i=s.lazy((()=>Promise.all([n.e(933),n.e(887)]).then(n.bind(n,8736)))),r=s.lazy((()=>Promise.all([n.e(933),n.e(368)]).then(n.bind(n,168)))),c=s.lazy((()=>Promise.all([n.e(933),n.e(129)]).then(n.bind(n,6661)))),l=s.lazy((()=>Promise.all([n.e(933),n.e(39)]).then(n.bind(n,3628)))),d=[{path:"/configs",name:"Configurations",component:a},{path:"/encryption",name:"Encryptions",component:o},{path:"/applications",name:"Applications",component:s.lazy((()=>Promise.all([n.e(933),n.e(642),n.e(823)]).then(n.bind(n,5091))))},{path:"/perms/dataservice",name:"Data Service Permissions",component:i},{path:"/perms/publisher",name:"Publisher Service Permissions",component:r},{path:"/perms/oss",name:"Object Storage Service Permissions",component:c},{path:"/perms/recommendation",name:"Recommendation Service Permissions",component:l}];var m=n(8983),p=n(184);var h=n(4880);const g=()=>(0,p.jsx)(m.KB,{lg:!0,children:(0,p.jsx)(s.Suspense,{fallback:(0,p.jsx)(m.LQ,{color:"primary"}),children:(0,p.jsxs)(h.rs,{children:[d.map(((e,t)=>e.component&&(0,p.jsx)(h.AW,{path:e.path,exact:e.exact,name:e.name,render:t=>(0,p.jsx)(p.Fragment,{children:(0,p.jsx)(e.component,{...t})})},t))),(0,p.jsx)(h.l_,{from:"/",to:"/configs"})]})})}),u=s.memo(g),f=()=>(0,p.jsx)(m.pG,{}),v=s.memo(f);var y=n(710),x=n(4889),S=n(364),j=n(4846);const b=["800 160",'\n  <svg\n  version="1.1"\n  id="svg2"\n  xml:space="preserve"\n  width="730"\n  height="160"\n  viewBox="0 0 730 160"\n  xmlns="http://www.w3.org/2000/svg"\n  xmlns:svg="http://www.w3.org/2000/svg"><defs\n    id="defs6"><clipPath\n      clipPathUnits="userSpaceOnUse"\n      id="clipPath16"><path\n        d="M 0,1431 H 6534.272 V 0 H 0 Z"\n        id="path14" /></clipPath></defs><g\n    id="g8"\n    transform="matrix(0.11180992,0,0,-0.11180992,0,160.00005)"><g\n      id="g10"><g\n        id="g12"\n        clip-path="url(#clipPath16)"><g\n          id="g18"\n          transform="translate(487,1270.8901)"\n          style="fill:#408057;fill-opacity:1"><path\n            d="m 0,0 c -180.248,0 -326.89,-146.642 -326.89,-326.89 0,-180.248 146.642,-326.89 326.89,-326.89 180.248,0 326.89,146.642 326.89,326.89 C 326.89,-146.642 180.248,0 0,0 m 0,-813.89 c -32.965,-0.008 -65.847,3.307 -98.147,9.893 -62.294,12.759 -121.466,37.659 -174.139,73.279 -78.298,52.855 -139.588,127.283 -176.443,214.266 -12.453,29.46 -21.958,60.081 -28.377,91.415 -13.192,64.766 -13.192,131.528 0,196.295 12.758,62.293 37.658,121.465 73.278,174.138 52.856,78.298 127.284,139.587 214.266,176.443 29.46,12.453 60.082,21.958 91.415,28.377 64.767,13.192 131.528,13.192 196.295,0 62.293,-12.758 121.465,-37.658 174.138,-73.278 78.298,-52.856 139.588,-127.284 176.443,-214.266 12.453,-29.461 21.958,-60.082 28.377,-91.415 13.192,-64.767 13.192,-131.528 0,-196.295 -12.758,-62.294 -37.658,-121.466 -73.278,-174.139 -52.856,-78.297 -127.284,-139.587 -214.266,-176.442 -29.46,-12.453 -60.082,-21.959 -91.415,-28.378 -32.3,-6.586 -65.182,-9.901 -98.147,-9.893"\n            style="fill:#408057;fill-opacity:1;fill-rule:nonzero;stroke:none"\n            id="path20" /></g><path\n          d="m 502,1431 h 542 V 1271 H 502 Z"\n          style="fill:#69ac9a;fill-opacity:1;fill-rule:nonzero;stroke:none"\n          id="path22" /><g\n          id="g24"\n          transform="translate(467.9341)"><path\n            d="M 0,0 C -67.268,-0.143 -133.83,13.702 -195.461,40.656 L 448.034,684.15 C 474.981,622.521 488.823,555.965 488.682,488.702 488.682,358.169 437.85,235.446 345.551,143.141 253.252,50.836 130.53,0 0,0"\n            style="fill:#f64d4d;fill-opacity:1;fill-rule:nonzero;stroke:none"\n            id="path26" /></g><g\n          id="g28"\n          transform="translate(6240.1211,457)"><path\n            d="m 0,0 c 144.074,0 294.15,76.539 294.15,223.615 0,57.029 -21.01,162.083 -189.099,207.106 L -10.51,460.736 c -39.019,10.505 -69.036,27.014 -69.036,60.031 0,36.018 36.02,61.532 81.042,61.532 46.525,0 85.544,-25.513 85.544,-73.538 h 187.601 c 1.5,166.585 -148.577,228.117 -276.143,228.117 -162.083,0 -274.641,-102.052 -274.641,-210.108 0,-73.538 24.012,-174.089 204.1,-222.114 l 93.048,-22.512 c 52.527,-13.507 76.54,-28.515 76.54,-58.53 0,-40.521 -43.522,-69.035 -100.552,-69.035 -69.036,0 -103.553,43.522 -103.553,84.043 H -291.149 C -289.649,84.043 -147.077,0 0,0 m -642.33,348.179 c 0,-126.065 -87.044,-165.085 -157.581,-165.085 -67.535,0 -133.569,51.026 -133.569,160.582 v 375.193 h -196.597 v -385.7 c -1.5,-210.108 94.549,-333.171 277.642,-333.171 69.036,0 180.092,40.521 210.108,132.067 V 18.006 h 196.599 V 718.869 H -642.327 Z M -1652.348,183.094 c -97.55,0 -177.091,76.539 -177.091,184.595 0,109.556 79.541,186.1 177.091,186.1 97.55,0 177.091,-76.539 177.091,-186.1 -10e-4,-108.056 -79.541,-184.595 -177.093,-184.595 v 0 z m 0,-183.094 c 199.6,0 376.694,147.075 376.694,367.689 0,222.114 -177.091,369.189 -376.694,369.189 -199.603,0 -376.694,-147.072 -376.694,-369.189 C -2029.042,147.076 -1851.951,0 -1652.35,0 v 0 z m -592.8,718.869 V 974 h -196.6 V 718.869 h -127.571 V 565.791 h 127.566 V 18.006 h 196.6 v 549.285 l 148.576,-1.5 v 153.078 z m -936.481,-286.647 c 21.011,94.548 90.046,135.069 171.088,135.069 88.546,0 156.08,-52.527 162.083,-135.069 z m 531.273,-52.527 c 0,214.61 -163.584,357.183 -364.687,357.183 -199.6,0 -372.191,-142.573 -372.191,-369.189 0,-216.111 157.581,-367.689 373.692,-367.689 123.063,0 244.625,52.527 310.659,141.072 l -114.063,115.56 c -43.522,-49.526 -112.558,-82.542 -184.595,-82.542 -93.048,0 -159.082,48.025 -180.092,130.567 h 526.77 c 3.002,31.516 4.503,55.528 4.503,75.038 v 0 z m -1161.6,357.183 c -69.036,0 -180.093,-42.022 -210.108,-136.57 v 118.561 h -196.6 V 18.006 h 196.6 v 367.692 c 0,127.565 87.045,165.085 157.581,165.085 67.535,0 133.569,-49.525 133.569,-159.082 V 18.006 h 196.6 v 384.2 c 1.501,210.108 -94.548,334.672 -277.642,334.672 M -4901.515,432.222 c 21.011,94.548 90.046,135.069 171.088,135.069 88.545,0 156.08,-52.527 162.083,-135.069 z m 531.272,-52.527 c 0,214.61 -163.584,357.183 -364.687,357.183 -199.6,0 -372.191,-142.573 -372.191,-369.189 0,-216.111 157.581,-367.689 373.692,-367.689 123.063,0 244.626,52.527 310.659,141.072 l -114.058,115.56 c -43.522,-49.526 -112.558,-82.542 -184.595,-82.542 -93.048,0 -159.082,48.025 -180.092,130.567 h 526.77 c 3.001,31.516 4.502,55.528 4.502,75.038"\n            style="fill:#408057;fill-opacity:1;fill-rule:nonzero;stroke:none"\n            id="path30" /></g></g></g></svg>\n  \n'];var w=n(1389);const I=()=>{const e=(0,S.I0)(),t=(0,S.v9)((e=>e.sidebarShow));return(0,p.jsx)(m.X4,{className:"ps-1",onClick:()=>e({type:"set",sidebarShow:!t}),children:(0,p.jsx)(j.Z,{icon:w.N,size:"lg"})})};class k extends s.Component{constructor(e){super(e)}async logOut(e){var t=!1;return await(0,x.kS)().then((function(e){t=!0}),(e=>{200===e?alert("success"):400===e?alert("Not Found"):403===e?alert("Forbidden"):401===e?t=!0:alert(e)})),t&&(localStorage.removeItem("token"),localStorage.removeItem("clientId"),localStorage.removeItem("organizationId"),localStorage.removeItem("applicationId"),localStorage.removeItem("appId"),localStorage.removeItem("orgId"),delete x.cO.clientId,this.props.handleRedirect()),!1}render(){return(0,p.jsx)(m.PO,{position:"sticky",className:"mb-4",children:(0,p.jsxs)(m.KB,{fluid:!0,children:[(0,p.jsx)(I,{}),(0,p.jsx)(m.qy,{children:(0,p.jsx)(j.Z,{icon:b,height:48,width:218,alt:"Logo"})}),(0,p.jsx)(m.g3,{children:(0,p.jsx)(m.U6,{children:(0,p.jsx)(m.AQ,{href:"#",onClick:this.logOut.bind(this),children:(0,p.jsx)(j.Z,{icon:y.V,size:"lg"})})})})]})})}}const z=(0,S.$j)()(k);n.p;var C=n(1523);const P=e=>{let{items:t}=e;const n=(0,h.TH)(),a=(e,t,n)=>(0,p.jsxs)(p.Fragment,{children:[t&&t,e&&e,n&&(0,p.jsx)(m.C_,{color:n.color,className:"ms-auto",children:n.text})]}),o=(e,t)=>{const{component:n,name:o,badge:i,icon:r,...c}=e,l=n;return(0,s.createElement)(l,{...c.to&&!c.items&&{component:C.OL,activeClassName:"active"},key:t,...c},a(o,r,i))},i=(e,t)=>{var s;const{component:r,name:c,icon:l,to:d,...m}=e,h=r;return(0,p.jsx)(h,{idx:String(t),toggler:a(c,l),visible:n.pathname.startsWith(d),...m,children:null===(s=e.items)||void 0===s?void 0:s.map(((e,t)=>e.items?i(e,t):o(e,t)))},t)};return(0,p.jsx)(s.Fragment,{children:t&&t.map(((e,t)=>e.items?i(e,t):o(e,t)))})};var O=n(4912),N=(n(2454),n(2739)),A=n(5487),U=n(7295),T=n(9736);const V=[{component:m.U6,name:"Applications",to:"/applications",icon:(0,p.jsx)(j.Z,{icon:N.Q,customClassName:"nav-icon"})},{component:m.U6,name:"Configuration",to:"/configs",icon:(0,p.jsx)(j.Z,{icon:A.M,customClassName:"nav-icon"})},{component:m.U6,name:"Encryptions",to:"/encryption",icon:(0,p.jsx)(j.Z,{icon:U.i,customClassName:"nav-icon"})},{component:m.dw,name:"Permissions",to:"/perms",icon:(0,p.jsx)(j.Z,{icon:T.S,customClassName:"nav-icon"}),items:[{component:m.U6,name:"Data Service",to:"/perms/dataservice"},{component:m.U6,name:"Publisher Service",to:"/perms/publisher"},{component:m.U6,name:"Object Storage Service",to:"/perms/oss"}]}],R=()=>{const e=(0,S.I0)(),t=(0,S.v9)((e=>e.sidebarUnfoldable)),n=(0,S.v9)((e=>e.sidebarShow));return(0,p.jsxs)(m.z3,{position:"fixed",unfoldable:t,visible:n,onVisibleChange:t=>{e({type:"set",sidebarShow:n})},children:[(0,p.jsx)(m.Xk,{children:(0,p.jsx)(O.Z,{children:(0,p.jsx)(P,{items:V})})}),(0,p.jsx)(m.iv,{className:"d-none d-lg-flex",onClick:()=>e({type:"set",sidebarUnfoldable:!t})})]})},Z=s.memo(R);class H extends s.Component{constructor(e){super(e),this.state={redirect:!1},this.handleRedirect=this.handleRedirect.bind(this)}componentDidMount(){null!=localStorage.getItem("token")&&""!=localStorage.getItem("token")||this.state.redirect||this.setState({redirect:!0})}handleRedirect(e){this.state.redirect||this.setState({redirect:!0})}render(){const{redirect:e}=this.state;return e?(0,p.jsx)(h.l_,{to:"/login"}):(0,p.jsxs)("div",{children:[(0,p.jsx)(Z,{}),(0,p.jsxs)("div",{className:"wrapper d-flex flex-column min-vh-100 bg-light",children:[(0,p.jsx)(z,{handleRedirect:this.handleRedirect}),(0,p.jsx)("div",{className:"body flex-grow-1 px-3",children:(0,p.jsx)(u,{})}),(0,p.jsx)(v,{})]})]})}}const E=H}}]);
//# sourceMappingURL=613.8ec311c1.chunk.js.map