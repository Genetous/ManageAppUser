{"version":3,"file":"static/js/823.750a8166.chunk.js","mappings":"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","sources":["views/others/applications.js"],"sourcesContent":["import React, { Component } from 'react';\r\nimport CIcon from '@coreui/icons-react';\r\nimport * as icon from '@coreui/icons';\r\nimport { Methods, get, logout, organization, postWithSavedToken } from \"../../genetousApi\"\r\nimport { format } from 'date-fns';\r\nimport { Link, Redirect } from 'react-router-dom'\r\nimport { ToastContainer, toast, Slide } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport {\r\n    CCard,\r\n    CCardBody,\r\n    CRow,\r\n    CCol,\r\n    CCardTitle,\r\n    CContainer,\r\n    CCardImage,\r\n    CCardText,\r\n    CButton,\r\n    CModal,\r\n    CModalBody,\r\n    CModalFooter,\r\n    CModalHeader,\r\n    CModalTitle,\r\n    CFormInput,\r\n    CFormLabel\r\n} from '@coreui/react'\r\nimport { bool } from 'prop-types';\r\nconst vars = {\r\n    'cursor': \"pointer\"\r\n}\r\nvar status = -1;\r\nvar message = \"Unexpected Error Occured!\";\r\nvar error = false;\r\nexport class Applications extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.state = {\r\n            applications: [],\r\n            modalVisible: false,\r\n            file: [],\r\n            application: {\r\n                collectionName: \"application\",\r\n                content: {\r\n                    applicationName: \"\",\r\n                    applicationIcon: \"\",\r\n                    applicationCreatedDate: 0,\r\n                    uniqueFields: [\"applicationName\"]\r\n                }\r\n            },\r\n            redirect: false,\r\n            appCreateStarted: false\r\n        }\r\n    }\r\n\r\n    handleRedirect() {\r\n        if (!this.state.redirect)\r\n            this.setState({ redirect: true })\r\n    }\r\n    componentDidMount() {\r\n        this.getApplications();\r\n    }\r\n    async getApplications() {\r\n        var orgId = localStorage.getItem('orgId')\r\n        var model = {\r\n            where: {\r\n                and: {\r\n                    \"relationName\": \"organizationRelations\",\r\n                    \"collectionId\": orgId\r\n                }\r\n            },\r\n            related: {\r\n                collectionName: \"application\",\r\n                sort: {\r\n                    applicationName: \"asc\"\r\n                }\r\n            }\r\n        }\r\n        var d = [...this.state.applications];\r\n        var success = true;\r\n        await postWithSavedToken(model, Methods.GetApplications).then(function (result) {\r\n            if (result.results.length > 0 && result.results[0].data.length > 0) {\r\n                d = result.results[0].data[0].related.application;\r\n            }\r\n        }, err => {\r\n            if (err.status == 401) {\r\n                this.handleRedirect();\r\n            } else {\r\n                success = false;\r\n                message = err.message;\r\n\r\n            }\r\n        });\r\n        if (!success) {\r\n            var type = success ? \"success\" : \"error\";\r\n            this.toastShow(type, message);\r\n        }\r\n        this.setState({ applications: d });\r\n    }\r\n    toastShow(type, message) {\r\n        switch (type) {\r\n            case \"success\":\r\n                toast.success(message, {\r\n                    position: \"bottom-center\",\r\n                    autoClose: 1000,\r\n                    hideProgressBar: true,\r\n                    closeOnClick: false,\r\n                    pauseOnHover: false,\r\n                    draggable: false,\r\n                    theme: \"dark\",\r\n                    transition: Slide\r\n                });\r\n                break;\r\n            case \"error\":\r\n                toast.error(message, {\r\n                    position: \"bottom-center\",\r\n                    autoClose: 1000,\r\n                    hideProgressBar: true,\r\n                    closeOnClick: false,\r\n                    pauseOnHover: false,\r\n                    draggable: false,\r\n                    theme: \"dark\",\r\n                    transition: Slide\r\n                });\r\n                break;\r\n            case \"info\":\r\n                toast.info(message, {\r\n                    position: \"bottom-center\",\r\n                    autoClose: 1000,\r\n                    hideProgressBar: true,\r\n                    closeOnClick: false,\r\n                    pauseOnHover: false,\r\n                    draggable: false,\r\n                    theme: \"dark\",\r\n                    transition: Slide\r\n                });\r\n        }\r\n    }\r\n    appItemChange(d) {\r\n        const { application } = this.state;\r\n        application[\"content\"][d.target.name] = d.target.value;\r\n        this.setState({ application });\r\n    }\r\n    async fileChanged(e) {\r\n        if (e.target.files.length > 0) {\r\n            var files = e.target.files;\r\n            if (files.length > 0) {\r\n                await this.setState({\r\n                    file: files\r\n                });\r\n            }\r\n        } else {\r\n            await this.setState({ file: [] });\r\n        }\r\n    }\r\n    setModalVisible(e, b) {\r\n        this.setState({ modalVisible: e });\r\n    }\r\n    async deleteApp(appId) {\r\n        var model = {\r\n            where: {\r\n                or: {\r\n                    id: [appId]\r\n                }\r\n            }\r\n        }\r\n        await postWithSavedToken(model, Methods.DeleteCollection).then(function (result) {\r\n        }, err => {\r\n\r\n        });\r\n        return true;\r\n    }\r\n    setAppID(e, d) {\r\n        localStorage.setItem(\"appId\", e.target.name)\r\n    }\r\n    async logOut(e) {\r\n        var redirect = false;\r\n        await logout().then(function (result) {\r\n            redirect = true;\r\n        }, err => {\r\n            if (err.status == 401) {\r\n                redirect = true;\r\n            } else {\r\n                message = err.message;\r\n            }\r\n        });\r\n        if (redirect) {\r\n            localStorage.removeItem(\"token\")\r\n            localStorage.removeItem(\"clientId\")\r\n            localStorage.removeItem(\"organizationId\")\r\n            localStorage.removeItem(\"applicationId\")\r\n            localStorage.removeItem(\"appId\")\r\n            localStorage.removeItem(\"orgId\")\r\n            delete organization.clientId;\r\n            this.setState({ redirect: true })\r\n        } else {\r\n            this.toastShow(\"error\", message);\r\n        }\r\n        return false;\r\n    }\r\n    toastShow(type, message) {\r\n        switch (type) {\r\n            case \"success\":\r\n                toast.success(message, {\r\n                    position: \"bottom-center\",\r\n                    autoClose: 1000,\r\n                    hideProgressBar: true,\r\n                    closeOnClick: false,\r\n                    pauseOnHover: false,\r\n                    draggable: false,\r\n                    theme: \"dark\",\r\n                    transition: Slide\r\n                });\r\n                break;\r\n            case \"error\":\r\n                toast.error(message, {\r\n                    position: \"bottom-center\",\r\n                    autoClose: 1000,\r\n                    hideProgressBar: true,\r\n                    closeOnClick: false,\r\n                    pauseOnHover: false,\r\n                    draggable: false,\r\n                    theme: \"dark\",\r\n                    transition: Slide\r\n                });\r\n                break;\r\n            case \"info\":\r\n                toast.info(message, {\r\n                    position: \"bottom-center\",\r\n                    autoClose: 1000,\r\n                    hideProgressBar: true,\r\n                    closeOnClick: false,\r\n                    pauseOnHover: false,\r\n                    draggable: false,\r\n                    theme: \"dark\",\r\n                    transition: Slide\r\n                });\r\n        }\r\n    }\r\n    render() {\r\n        const { redirect } = this.state;\r\n\r\n        if (redirect) {\r\n            return <Redirect to='/login' />;\r\n        }\r\n        return (\r\n            <CContainer className='p-5'>\r\n                <ToastContainer />\r\n                <CRow className=\"justify-content-center\">\r\n                    <CCol className=\"text-center p-5\">\r\n                        <CCardTitle>OrganizationId : {localStorage.getItem(\"orgId\")}</CCardTitle>\r\n                    </CCol>\r\n                </CRow>\r\n                <CRow className=\"justify-content-center\">\r\n                   \r\n                    {this.state.applications.map((item, index) => (\r\n                        <CCol sm={3}>\r\n                            <CCard className=\"text-center\" >\r\n                                <CCardBody>\r\n                                    <CCardTitle>{item.content.applicationName}</CCardTitle>\r\n                                    <CCardText>ApplicationId : {item.content.applicationId}</CCardText>\r\n                                    <CCardText>Created Date : {format(item.content.applicationCreatedDate, 'dd.MM.yyyy')}</CCardText>\r\n                                    <Link to=\"/\" name={item.content.applicationId} onClick={this.setAppID.bind(this)}>\r\n                                        <CButton name={item.content.applicationId} href=\"#\">Go to Panel</CButton>\r\n                                    </Link>\r\n                                </CCardBody>\r\n                            </CCard>\r\n                        </CCol>\r\n                    ))\r\n                    }\r\n                </CRow>\r\n               \r\n                <CRow className=\"justify-content-center\">\r\n                    <CCol className=\"text-center p-5\">\r\n                        <CButton onClick={this.logOut.bind(this)}><CIcon icon={icon.cilAccountLogout} /> Logout </CButton>\r\n                    </CCol>\r\n                </CRow>\r\n               \r\n            </CContainer>\r\n        )\r\n    }\r\n}\r\nexport default Applications"],"names":["message","Applications","Component","constructor","props","super","this","state","applications","modalVisible","file","application","collectionName","content","applicationName","applicationIcon","applicationCreatedDate","uniqueFields","redirect","appCreateStarted","handleRedirect","setState","componentDidMount","getApplications","async","model","where","and","localStorage","getItem","related","sort","d","success","postWithSavedToken","Methods","GetApplications","then","result","results","length","data","err","status","type","toastShow","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","theme","transition","Slide","error","info","appItemChange","target","name","value","e","files","setModalVisible","b","appId","or","id","DeleteCollection","setAppID","setItem","logout","removeItem","organization","clientId","render","_jsx","Redirect","to","_jsxs","CContainer","className","children","ToastContainer","CRow","CCol","CCardTitle","map","item","index","sm","CCard","CCardBody","CCardText","applicationId","format","Link","onClick","bind","CButton","href","logOut","CIcon","icon"],"sourceRoot":""}